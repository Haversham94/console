@import '@reach/listbox/styles.css';

.input {
  @apply relative min-h-[52px] px-4 py-2 rounded border border-element-light-lighter-500 bg-white cursor-pointer;
  transition: 120ms all $timing-cubic;

  label {
    @apply absolute ease-in-out duration-[120ms] text-text-500 text-sm translate-y-2 select-none;
  }

  .input__value {
    @apply absolute left-0 bottom-2 w-full px-4 bg-transparent appearance-none ring-0 text-sm text-text-700;
  }

  input,
  textarea {
    @apply focus:outline-none;
  }

  &:hover,
  &.input--focused {
    @apply border-brand-500;
    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.05);
  }
}

.input--focused {
  label {
    @apply text-xs translate-y-0;
  }
}

.input--disabled {
  @apply bg-element-light-lighter-200 border-element-light-lighter-500 pointer-events-none;

  label {
    @apply text-text-400;
  }
}

.input--error {
  @apply border-error-500;
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.05);
}

.input--success {
  @apply border-success-500;
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.05);
}

.input--text-area {
  @apply pb-0 pr-2;
}

.input__label {
  @apply w-full h-full;
}

.input__select {
  @apply w-full absolute left-0 top-16 z-10 bg-element-light-lighter-100 rounded p-2 opacity-0 pointer-events-none h-0 max-h-60 overflow-scroll -translate-y-2;
  @apply before:content-[''] before:block before:absolute before:-top-1.5 before:right-6 before:border-element-light-lighter-100 before:border-r-8 before:border-l-8 before:border-b-8 before:bg-transparent before:border-l-transparent before:border-r-transparent;
  transition: all 150ms $timing-cubic;

  &.is-open {
    @apply opacity-100 pointer-events-auto h-auto translate-y-0;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
  }
}

.input__select__item {
  @apply mb-1 last:mb-0 text-sm text-text-600 font-medium px-3 py-2 rounded hover:bg-element-light-lighter-300 select-none;
  transition: all 150ms $timing-cubic;

  &.is-active {
    @apply bg-element-light-lighter-300;
  }
}

.input__select--small {
  @apply pl-2 pr-8 py-2 bg-element-light-lighter-200 border border-element-light-lighter-500 text-text-700 rounded text-sm appearance-none w-full;
}

[data-reach-listbox-input] {
  span[role='button'] {
    @apply w-full bg-element-light-lighter-200 rounded border border-element-light-lighter-500 px-4 py-2 text-sm text-text-700 focus-within:outline-brand-400;
  }

  [data-reach-listbox-arrow] {
    @apply flex items-center justify-center;
  }
}

[data-reach-listbox-popover] {
  @apply mt-2 bg-white p-2 rounded border-element-light-lighter-500 text-text-600 focus-within:outline-brand-400;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);

  li {
    @apply text-sm text-text-600 font-medium px-3 py-2 rounded hover:bg-element-light-lighter-300 hover:text-text-600 select-none;

    &[data-current-selected],
    &[data-current-nav] {
      @apply bg-element-light-lighter-300 text-text-600;
    }
  }
}
